jQuery(document).ready(function(t){"use strict";t.wc_product_vendors_per_product_shipping={init:function(){t(document.body).on("init_shipping_per_product",function(){t("input#_per_product_shipping").change(),t("input.variable_is_virtual").change(),t(".enable_per_product_shipping").change(),t("body").trigger("init_shipping_per_product_sortable")}).on("init_shipping_per_product_sortable",function(){t(".wcpv-per-product-shipping-rules tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.removeAttr("style")}})}),t("#woocommerce-product-data").on("woocommerce_variations_added woocommerce_variations_loaded",function(){t(document.body).trigger("init_shipping_per_product")}),t("#woocommerce-product-data").on("focus",".wcpv-per-product-shipping-rules input",function(){t(".wcpv-per-product-shipping-rules tr").removeClass("current"),t(this).closest("tr").addClass("current")}).on("click",".wcpv-per-product-shipping-rules input",function(){return t(this).focus(),!0}).on("click",".wcpv-per-product-shipping-rules .remove",function(){var e=t(this).closest(".wcpv-per-product-shipping-rules").find("tbody");return e.find("tr.current").size()>0?(e.find("tr.current").find("input").val(""),e.find("tr.current").hide()):alert(wcpv_per_product_shipping_local.i18n_no_row_selected),!1}).on("click",".wcpv-per-product-shipping-rules .insert",function(){var e=t(this).closest(".wcpv-per-product-shipping-rules").find("tbody"),p=t(this).data("postid"),r='<tr>							<td class="sort">&nbsp;</td>							<td class="country"><input type="text" value="" placeholder="*" name="per_product_country['+p+'][new][]" /></td>							<td class="state"><input type="text" value="" placeholder="*" name="per_product_state['+p+'][new][]" /></td>							<td class="postcode"><input type="text" value="" placeholder="*" name="per_product_postcode['+p+'][new][]" /></td>							<td class="cost"><input type="text" value="" placeholder="0.00" name="per_product_cost['+p+'][new][]" /></td>							<td class="item_cost"><input type="text" value="" placeholder="0.00" name="per_product_item_cost['+p+'][new][]" /></td>							</tr>';return e.find("tr.current").size()>0?e.find("tr.current").after(r):e.append(r),!1}).on("click",".wcpv-per-product-shipping-rules .export",function(){var e=t(this).data("postid"),p="data:application/csv;charset=utf-8,"+wcpv_per_product_shipping_local.i18n_product_id+","+wcpv_per_product_shipping_local.i18n_country_code+","+wcpv_per_product_shipping_local.i18n_state+","+wcpv_per_product_shipping_local.i18n_postcode+","+wcpv_per_product_shipping_local.i18n_cost+","+wcpv_per_product_shipping_local.i18n_item_cost+"\n";return t(this).closest(".wcpv-per-product-shipping-rules").find("tbody tr:not(.sort)").each(function(){var r=e+",";t(this).find("input").each(function(){var e=t(this).val();e||(e=t(this).attr("placeholder")),r=r+e+","}),r=r.substring(0,r.length-1),p=p+r+"\n"}),t(this).attr("href",encodeURI(p)),!0}),t(document.body).trigger("init_shipping_per_product")}},t.wc_product_vendors_per_product_shipping.init()});